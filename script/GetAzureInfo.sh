#######################################################################
# add export directory
#######################################################################
datetime=`TZ=UTC-9 date '+%Y%m%d-%H%M'`
dir="`dirname $0`/../export/${datetime}_AzureInfo_az"
mkdir "${dir}"

#######################################################################
# az reference
# https://docs.microsoft.com/ja-jp/cli/azure/reference-index?view=azure-cli-latest
#######################################################################

    #######################################################################
    # az disk
    # https://docs.microsoft.com/ja-jp/cli/azure/disk?view=azure-cli-latest
    #######################################################################
    az disk list > "${dir}/az_disk_list.json"

    #######################################################################
    # az group
    # https://docs.microsoft.com/ja-jp/cli/azure/group?view=azure-cli-latest
    #######################################################################
    az group list > "${dir}/az_group_list.json"

    #######################################################################
    # az monitor
    # https://docs.microsoft.com/ja-jp/cli/azure/monitor?view=azure-cli-latest
    #######################################################################
        #######################################################################
        # az monitor action-group list
        #######################################################################
        az monitor action-group list > "${dir}/az_monitor_action-group_list.json"

    #######################################################################
    # az network
    # https://docs.microsoft.com/ja-jp/cli/azure/network?view=azure-cli-latest
    #######################################################################
        #######################################################################
        # DNS
        #######################################################################
        az network dns zone list > "${dir}/az_network_dns_zone_list.json"

        #######################################################################
        # LB
        #######################################################################
        az network lb list > "${dir}/az_network_lb_list.json"

        #######################################################################
        # NIC
        #######################################################################
        az network nic list > "${dir}/az_network_nic_list.json"

        #######################################################################
        # NSG
        #######################################################################
        az network nsg list > "${dir}/az_network_nsg_list.json"

        #######################################################################
        # public-ip
        #######################################################################
        az network public-ip list > "${dir}/az_network_public-ip_list.json"

        #######################################################################
        # vnet
        #######################################################################
        az network vnet list > "${dir}/az_network_vnet_list.json"

    #######################################################################
    # az vm
    # https://docs.microsoft.com/ja-jp/cli/azure/vm?view=azure-cli-latest
    #######################################################################
    az vm list > "${dir}/az_vm_list.json"

#######################################################################
# after work
#######################################################################
echo export: `readlink -f $dir`
